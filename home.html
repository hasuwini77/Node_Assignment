<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to Edwin's Web Server</title>
  </head>
  <body>
    <h1>Welcome to Edwin's insane Web Server</h1>
    <div>
      <p>Find below how the Ed Server is Currently Organised</p>
      <p><strong> Base URL: http://localhost:3000 </strong> + add any Path or custom Query below</p>
    </div>

    <!-- Table 1: Format and Read Files -->
    <table border="1">
      <thead>
        <tr>
          <th>Format</th>
          <th>Read Files</th>
          <th>Path</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>HTML</td>
          <td>Home (reading home.html)</td>
          <td style="color: darkorange">/anything*</td>
        </tr>
        <tr>
          <td>TXT</td>
          <td>Rules (reading rules.txt)</td>
          <td>/rules</td>
        </tr>
        <tr>
          <td>HTML</td>
          <td>Index (reading index.html)</td>
          <td>/index</td>
        </tr>
        <tr>
          <td>HTML</td>
          <td style="color: rgb(126, 73, 7)">Surprise (reading surpriseContent.html)</td>
          <td style="color: rgb(126, 73, 7)"><strong> /custom?value=surprise </strong></td>
        </tr>
      </tbody>
    </table>
    <p style="color: rgb(126, 73, 7)">For Extra fun try the Surprise query suggested above!</p>
    <br />

    <!-- Table 2: Read Content -->
    <table border="1">
      <thead>
        <tr>
          <th>Read Content</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>/about</td>
        </tr>
        <tr>
          <td>/custom</td>
        </tr>
      </tbody>
    </table>
    <br />

    <!-- Table 3: Custom Queries -->
    <table border="1">
      <thead>
        <tr>
          <th>Custom Query</th>
          <th>Redirection/Route</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>/custom?value=Blablabla</td>
          <td>Custom displayed content including {query.value}</td>
        </tr>
        <tr>
          <td>/custom?value=moustache</td>
          <td>Good looking moustache teacher</td>
        </tr>
      </tbody>
    </table>
    <br />
    <p style="color: darkorange">*If you are in the mood, make up your own queries!</p>

    <div>
      <h2>For reading files</h2>
      <p>For reading files I've used The node:fs module that enables interacting with the file system in a way modeled on standard POSIX functions.</p>
    </div>

    <div>
      <h2>For displaying Content</h2>
      <p>For displaying HTML content, I've used the fs module together with the readFile method, that Asynchronously reads the entire contents of a file. The trick here was that you do need to specify the encoding, like "utf8" for example for html files. 
        <p> The very same process applied to pictures, used the very same method which is also readFile but this time I had to edit the <em> res.writeHead(200, { "Content-Type": "image/jpeg" }); </em></p>
      </p>
    </div>
    <div>
      <h2>For Custom Queries</h2>
      <p>For custom queries, I had to be very clear in the req.url thingy, taking use of the url module together with the parse method, I was able to pass the url and add custom routes inside of if statement, giving this sort of syntax: <em> parsedUrl.pathname === "/custom" && parsedUrl.query.value === undefined</em>
      </p>
    </div>
    <footer><p>Copyright Ed Â® 2024</p></footer>
  </body>
</html>
